<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mite-Kau|マイページ</title>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.css"/>
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.5.0/firebase-auth.js"></script>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="css/register.css">
    <link rel="stylesheet" href="css/mypage.css">
    <script src="js/jquery-3.5.1.min.js"></script>
    <script>
        
        let firebaseConfig = {
        
            apiKey: "AIzaSyDvObI1bsRRZ7BLEbLCMkO5skEvz86aCLs",
          authDomain: "arttile-9392a.firebaseapp.com",
          projectId: "arttile-9392a",
          storageBucket: "arttile-9392a.appspot.com",
          messagingSenderId: "1096105557015",
          appId: "1:1096105557015:web:fa1af1315cb01502e07052"
        
        };
 
        firebase.initializeApp(firebaseConfig);
 
        let uiConfig = {
            callbacks: {
                signInSuccessWithAuthResult: function () {
                    console.log("ログイン成功");
                    location.href='./userregister.html';
                    $("#firebaseui-auth-container").hide();
                    $("#mypage").show();
                    return true;
                },
            },
            signInOptions: [
                firebase.auth.EmailAuthProvider.PROVIDER_ID,
            ],
        };
 
        let ui = new firebaseui.auth.AuthUI(firebase.auth());
        ui.start('#firebaseui-auth-container', uiConfig);
    </script>

</head>
<body>
 
<div id="firebaseui-auth-container"></div>

<div class="mypage" id=mypage>
      
        <!-- ここからナビゲーション -->
        <section class="start">
        
            <div class= "nav-inner">
                <!-- Oil Paintingーのimage -->
                <a class="logo" href="index.html"><img class="icon" src="./img/icon_art.jpg" alt="companylogo" >  </a>
                
                <button class="btn-trigger">
                    <svg viewBox="0 0 44 44" xmlns:xlink="http://www.w3.org/1999/xlink" role="img" aria-labelledby="menuButtonTitle">
                        <title id="menuButtonTitle">Menu</title>
                        <symbol id="bar">
                        <rect width="28" height="2" fill="#000"></rect>
                        </symbol>
                        <use xlink:href="#bar" x="8" y="14"></use>
                        <use xlink:href="#bar" x="8" y="24"></use>
                        <use xlink:href="#bar" x="8" y="34"></use>
                    </svg>
                </button>
    
                <div class="navigation-container">
                    <ul class="navigation">
                    <li class="nav-item"><a href="./index.html#about">About</a> </li>
                    <li class="nav-item"><a href="./index.html#service">Service</a></li>
                    <li class="nav-item"><a href="./index.html#space">Space</a></li>
                    <li class="nav-item"><a href="./index.html#listing">Listing</a></li>
                    <li class="nav-item"><a href="./index.html#Spaceowner">Space Owner</a></li>
                    </ul>
                </div>
            </div>
            
        </section>
        <!-- ここまでナビゲーション -->
    
        <!-- ここはメイン画像 -->
        <div class=shashin>
            <div class="title">
            <h1>展示まであとすこしです</h1>
            <p>作品を登録しましょう</p>
            </div>
            </div>
            
    
        <!-- ここまでメイン画像 -->
    
        <!-- ここはabout-->
    
        <div id="about" class="container">
            <h2 class="section-title">Listing form</h2>
            <!-- <div class="section-image"><img src="images/about/profile.png" alt=""></div> -->
    
            <p class="section-name">出品フォーム</p>
            <div class="midashi"> </div>
        </div>
        
    <!-- ここから登録フォーム -->
    <section id="contact" class="contact">
    
        <div class="form-wrapper">
            <form action="">
                <dl class="form-inner">
                
                    <dt class="form-title">メールアドレス</dt>
                    <dd class="form-item3"><input type="email" name="email" class="form-parts"></dd>
    
                                
                    <dt class="form-title">パスワード</dt>
                    <dd class="form-item3"><input type="password" name="password" class="form-parts"></dd>
    
    
                    <dt class="form-title">名前</dt>
                    <dd class="form-item"><input id="uname" type="text" name="name" class="form-parts"></dd>
    
                    <dt class="form-title">生年月日</dt>
                    <dd class="form-item"><input id="birth" type="date" name="birth" class="form-parts"></dd>
    
                    <dt class="form-title">所属</dt>
                    <dd class="form-item"><input id="company" type="text" name="company" class="form-parts"></dd>
    
                    <dt class="form-title">メールアドレス</dt>
                    <dd class="form-item3"><input id="email" type="email" name="email" class="form-parts"></dd>
    
                    <dt class="form-title">作品名</dt>
                    <dd class="form-item3"><input id="title" type="text" name="title" class="form-parts"></dd>
    
                    <dt class="form-title">作品の詳細説明(140字~200字程度)</dt>
                    <dd class="form-item"><input id="description" name="detail" id="description" cols="30" rows="10" class="form-parts"></input></dd>
    

              </dl>
                
                <div class="buttondiv">
                <input type="button" id="send" onclick="showMessage()" value="プレビューを作成" class="btn btn-submit">
                </form>
    
        </div>
    </section>
    <!-- ここまで登録フォーム -->
    
    <!-- ここからイメージ -->
      
        <section id="cource" class="cource">
        <div id="cource" class="container">
            <h2 class="section-title" id="cource">image</h2>
    
            <p class="section-name">展示イメージ</p>
            <div class="midashi"> </div>
        </div>
    
        <div class="ipad">
            <img src="./img/ipadimage.png" alt="ipadimage">
    
        </div>
        <div> <p id="output-message">  </p></div>
       

<!-- ここからinput&output -->

    <div class="item-detail">
        <div id="output"></div>
    </div>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- JQuery -->


    <!--** 以下Firebase **-->
    <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    import { getDatabase, ref, push, set, onChildAdded, remove, onChildRemoved }
        from "https://cdnjs.cloudflare.com/ajax/libs/firebase/9.6.0/firebase-database.min.js";



    const db = getDatabase(app); // RealtimeDBに接続
    const dbRef = ref(db, "chat"); // RealtimeDB内の"chat"を使う

    $("#send").on("click", function () {
        const msg = {
            uname: $("#uname").val(),
            text: $("#text").val(),
            birth: $("#birth").val(),
            email: $("#email").val(),
            password: $("#password").val(),
            company: $("#company").val(),
            title: $("#titile").val(),
            description: $("#description").val(),
        }
        const newPostRef = push(dbRef); // pushできる状態にする
        set(newPostRef, msg); // DBに値を送信
    });


</script>

        <!-- ここからフッター -->
        <footer class="footer text-center">
            <div class="wrapper">
                <a href="#" class="btn-pagetop" id="btn"><span class="fa fa-angle-up icon-up"></span></a>
                <small class="copyrights">Copyrights 2022 Tile Art All RIghts Reserved.</small>
            </div>
        </footer>
            
        
        <!-- ここまでフッター -->
    
    
    
</div>
 
</body>
</html>